{% load  material_tags %}

{% if field.is_hidden %}
   {{ field }}
{% else %}

   {% if not field %}
   {% elif field|is_select_multiple %}
      <div class="m-form__field_group">
         <label for="{{ field.id_for_label }}" class="m-form__field_label">
            {{ field.label }}:
         </label>
         {{ field }}
      </div>

   {% elif field|is_select %}
      <div class="m-form__field_group">
         <label for="{{ field.id_for_label }}" class="m-form__field_label">
            {{ field.label }}:
         </label>
         {{ field }}
      </div>
   {% elif field|is_radio %}
      <div class="m-form__field_group">
         <label for="{{ field.id_for_label }}" class="m-form__field_label">
            {{ field.label }}:
         </label>
         {{ field }}
      </div>
   {% elif field|is_textarea %}
      <div
         class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label m-form__field_group">
         <label for="{{ field.id_for_label }}" class="m-form__field-label">
            {{ field.label }}:
         </label>
         {{ field }}
         <span class="mdl-textfield__error">

         </span>
      </div>
   {% elif field|is_input %}
      <div
         class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label m-form__field_group">

         <label for="{{ field.id_for_label }}" class="m-form__field-label">
            {{ field.label|title }}:
         </label>
         {{ field }}
      </div>
   {% else %}
      <pre>
         {{ field.field.widget }}
      {{ field }}
      </pre>
   {% endif %}
   {% comment %}
   <div id="div_{{ field.auto_id }}"
        class="holder{% if wrapper_class %} {{ wrapper_class }}{% endif %}{% if field.errors and form_show_errors %} error{% endif %}{% if field|is_checkbox %} checkbox{% endif %}{% if field.css_classes %} {{ field.css_classes }}{% endif %}">
      {% spaceless %}

         {% if field.label %}
            {% if field|is_checkbox %}
               {% crispy_field field %}
            {% endif %}

            <label for="{{ field.id_for_label }}"
                   {% if field.field.required %}class="required"{% endif %}>
               {{ field.label|safe }}{% if field.field.required %}
                  <span class="asterisk">*</span>{% endif %}
            </label>
         {% endif %}

         {% if field|is_checkboxselectmultiple %}
            {% include 'material/layout/checkboxselectmultiple.html' %}
         {% endif %}

         {% if not field|is_checkbox and not field|is_checkboxselectmultiple %}
            {% crispy_field field %}
         {% endif %}

         {% if field.field.abide_msg %}
            <small id="abide_error_{{ field.auto_id }}"
                   class="error {% if form_show_errors and not field.errors|length_is:"0" %}compact{% endif %}">
               {{ field.field.abide_msg }}
            </small>
         {% endif %}

         {% if form_show_errors %}
            {% for error in field.errors %}
               <small id="error_{{ forloop.counter }}_{{ field.auto_id }}"
                      class="error {% if not forloop.last %}compact{% endif %}">
                  {{ error }}
               </small>
            {% endfor %}
         {% endif %}

         {% if field.help_text %}
            <div id="hint_{{ field.auto_id }}" class="hint">{{ field.help_text|safe }}</div>
         {% endif %}
      {% endspaceless %}</div>{% endcomment %}
{% endif %}

